

set(LIBDRIVER driver)

set(EXTRA_LIBS "${EXTRA_LIBS} -lzeroxml")

FUNCTION(CREATE_TEST TEST_NAME)
    ADD_EXECUTABLE(${TEST_NAME} ${TEST_NAME}.c)
    TARGET_LINK_LIBRARIES(${TEST_NAME} ${LIBDRIVER} ${AAX_LIBRARY} ${KERNEL_LIBRARY} ${EXTRA_LIBS})
ENDFUNCTION()

FUNCTION(CREATE_CPP_TEST TEST_NAME)
    ADD_EXECUTABLE(${TEST_NAME} ${TEST_NAME}.cpp)
    TARGET_LINK_LIBRARIES(${TEST_NAME} ${LIBDRIVER} ${AAX_LIBRARY} ${KERNEL_LIBRARY} ${EXTRA_LIBS})
ENDFUNCTION()

CREATE_CPP_TEST(inst_list)

CREATE_TEST(testgmmidi)
CREATE_TEST(MT32inst)
CREATE_TEST(GM2inst)
CREATE_TEST(GSinst)
CREATE_TEST(XGinst)
CREATE_TEST(XG2aaxs)
